import React, { useState } from 'react';

type DocType = 'terms' | 'privacy' | 'refund' | 'product';

const DOCS: Record<DocType, { title: string; content: string }> = {
  terms: {
    title: 'Пользовательское соглашение',
    content: `ПОЛЬЗОВАТЕЛЬСКОЕ СОГЛАШЕНИЕ
(Оферта на оказание информационных услуг)

Дата публикации: 09.02.2026

1. ОБЩИЕ ПОЛОЖЕНИЯ
1.1. Настоящее Пользовательское соглашение (далее — Соглашение) регулирует отношения между Исполнителем и Пользователем при использовании сервиса «Репетитор под рукой» (далее — Сервис).
1.2. Сервис предоставляет информационные услуги с использованием технологий искусственного интеллекта для помощи в обучении.
1.3. Начиная пользоваться Сервисом, Пользователь подтверждает, что ознакомился с настоящим Соглашением и принимает его условия в полном объёме.

2. ПРЕДМЕТ СОГЛАШЕНИЯ
2.1. Исполнитель предоставляет Пользователю доступ к функционалу Сервиса в соответствии с выбранным тарифным планом.
2.2. Сервис является вспомогательным инструментом обучения и не заменяет образовательную программу.
2.3. Исполнитель не гарантирует конкретных результатов на экзаменах или при аттестации.

3. ПРАВА И ОБЯЗАННОСТИ СТОРОН
3.1. Пользователь обязуется:
  — использовать Сервис исключительно в законных целях;
  — не передавать учётные данные третьим лицам;
  — не пытаться обойти технические ограничения Сервиса.
3.2. Исполнитель обязуется:
  — обеспечивать доступ к Сервису 24/7 (за исключением технических работ);
  — обеспечивать сохранность персональных данных Пользователя;
  — информировать об изменениях в Соглашении.

4. ПОРЯДОК ОПЛАТЫ
4.1. Стоимость услуг определяется действующими тарифными планами.
4.2. Оплата производится через платёжную систему ЮKassa в соответствии с Федеральным законом № 161-ФЗ «О национальной платёжной системе».
4.3. Моментом оплаты считается поступление денежных средств на расчётный счёт Исполнителя.

5. ОТВЕТСТВЕННОСТЬ
5.1. Исполнитель не несёт ответственности за:
  — некорректную работу интернет-соединения Пользователя;
  — результаты использования рекомендаций Сервиса;
  — действия третьих лиц, получивших доступ к аккаунту Пользователя.

6. СРОК ДЕЙСТВИЯ
6.1. Настоящее Соглашение вступает в силу с момента начала использования Сервиса.
6.2. Соглашение действует бессрочно до его расторжения любой из сторон.

7. ПРИМЕНИМОЕ ПРАВО
7.1. Настоящее Соглашение регулируется законодательством Российской Федерации.
7.2. Все споры разрешаются путём переговоров, а при недостижении согласия — в суде по месту нахождения Исполнителя в соответствии с ГПК РФ.`
  },
  privacy: {
    title: 'Политика конфиденциальности',
    content: `ПОЛИТИКА КОНФИДЕНЦИАЛЬНОСТИ
(в соответствии с Федеральным законом № 152-ФЗ «О персональных данных»)

Дата публикации: 09.02.2026

1. ОБЩИЕ ПОЛОЖЕНИЯ
1.1. Настоящая Политика конфиденциальности определяет порядок обработки и защиты персональных данных Пользователей сервиса «Репетитор под рукой».
1.2. Обработка персональных данных осуществляется в соответствии с:
  — Конституцией Российской Федерации;
  — Федеральным законом от 27.07.2006 № 152-ФЗ «О персональных данных»;
  — Федеральным законом от 27.07.2006 № 149-ФЗ «Об информации, информационных технологиях и о защите информации».

2. ПЕРЕЧЕНЬ СОБИРАЕМЫХ ДАННЫХ
2.1. Мы собираем следующие персональные данные:
  — адрес электронной почты;
  — имя (псевдоним);
  — сведения об устройствах (для защиты аккаунта);
  — данные об использовании Сервиса (история чатов, выбранные предметы).
2.2. Мы НЕ собираем:
  — паспортные данные;
  — данные банковских карт (обработка осуществляется ЮKassa);
  — биометрические данные.

3. ЦЕЛИ ОБРАБОТКИ
3.1. Персональные данные обрабатываются для:
  — предоставления доступа к Сервису;
  — персонализации обучения;
  — обработки платежей;
  — технической поддержки;
  — улучшения качества Сервиса.

4. ЗАЩИТА ДАННЫХ
4.1. Применяются организационные и технические меры защиты:
  — шифрование данных при передаче (TLS/SSL);
  — ограничение доступа сотрудников;
  — регулярный аудит безопасности;
  — хранение данных на защищённых серверах.

5. ПРАВА ПОЛЬЗОВАТЕЛЯ
5.1. Пользователь имеет право:
  — запросить информацию о своих персональных данных;
  — потребовать исправления неточных данных;
  — отозвать согласие на обработку данных;
  — потребовать удаления своих данных (за исключением данных, хранение которых предусмотрено законодательством РФ).

6. ПЕРЕДАЧА ДАННЫХ ТРЕТЬИМ ЛИЦАМ
6.1. Персональные данные не передаются третьим лицам, за исключением:
  — платёжного провайдера ЮKassa (для обработки оплаты);
  — по требованию уполномоченных государственных органов РФ.

7. СРОК ХРАНЕНИЯ
7.1. Персональные данные хранятся в течение срока использования Сервиса и 3 (три) года после удаления аккаунта, в соответствии с требованиями законодательства РФ.`
  },
  refund: {
    title: 'Политика возврата средств',
    content: `ПОЛИТИКА ВОЗВРАТА ДЕНЕЖНЫХ СРЕДСТВ
(в соответствии со ст. 32 Закона РФ «О защите прав потребителей» и ст. 782 ГК РФ)

Дата публикации: 09.02.2026

1. ОБЩИЕ ПОЛОЖЕНИЯ
1.1. Настоящая Политика регулирует порядок и условия возврата денежных средств за оплаченные услуги сервиса «Репетитор под рукой».
1.2. Оплачивая подписку, Пользователь подтверждает, что:
  — ознакомился с функционалом Сервиса в период бесплатного пробного доступа (10 дней);
  — функционал Сервиса полностью его устраивает;
  — претензий к работоспособности Сервиса не имеет.

2. УСЛОВИЯ ВОЗВРАТА
2.1. Возврат денежных средств возможен в следующих случаях:
  а) В течение 3 (трёх) календарных дней с момента оплаты при наличии объективных причин:
    — доказанная некорректная работа функционала Сервиса;
    — систематическая недоступность Сервиса (более 24 часов подряд);
    — существенное несоответствие функционала заявленному описанию тарифного плана.
  б) По решению Исполнителя — в иных обоснованных случаях.

2.2. Возврат НЕ осуществляется:
  — если Пользователь просто «передумал» и не имеет объективных претензий к работе Сервиса;
  — по истечении 3 (трёх) календарных дней с момента оплаты;
  — при нарушении Пользователем условий Пользовательского соглашения;
  — при использовании Сервиса не по назначению.

3. ПОРЯДОК ВОЗВРАТА
3.1. Для оформления возврата Пользователь обязан:
  — обратиться в службу поддержки (@kontentcod) с заявлением;
  — указать причину возврата с подробным описанием проблемы;
  — предоставить подтверждающие материалы (скриншоты, описание ошибок).
3.2. Заявление рассматривается в течение 5 (пяти) рабочих дней.
3.3. В случае положительного решения возврат осуществляется на реквизиты, с которых была произведена оплата, в течение 10 (десяти) рабочих дней.

4. ЧАСТИЧНЫЙ ВОЗВРАТ
4.1. При досрочном расторжении подписки возврат рассчитывается пропорционально неиспользованному периоду за вычетом фактически понесённых Исполнителем расходов.

5. ОСНОВАНИЕ
5.1. Настоящая Политика составлена в соответствии с:
  — ст. 32 Закона РФ от 07.02.1992 № 2300-1 «О защите прав потребителей»;
  — ст. 779–783 Гражданского кодекса РФ;
  — Федеральным законом от 27.06.2011 № 161-ФЗ «О национальной платёжной системе».`
  },
  product: {
    title: 'Описание продукта',
    content: `ОПИСАНИЕ ПРОДУКТА И ТАРИФНЫХ ПЛАНОВ
Сервис «Репетитор под рукой»

Дата публикации: 09.02.2026

1. ОПИСАНИЕ СЕРВИСА
1.1. «Репетитор под рукой» — это интерактивный сервис помощи в обучении, использующий технологии искусственного интеллекта.
1.2. Сервис предназначен для:
  — дошкольников (5–7 лет);
  — школьников 1–11 классов;
  — подготовки к ОГЭ и ЕГЭ;
  — подготовки к ВПР.

2. ФУНКЦИОНАЛ СЕРВИСА
2.1. Основные функции:
  — объяснение учебного материала;
  — помощь в решении задач;
  — проверка домашних заданий;
  — тренировочные задания;
  — подготовка к экзаменам;
  — голосовой и текстовый режимы общения.

3. ТАРИФНЫЕ ПЛАНЫ
3.1. «Дошкольники» — 1 490 ₽/мес (990 ₽/мес при оплате за 3 мес.)
  — игровое обучение, буквы, цифры, цвета, голосовой режим.
3.2. «Базовый» — 1 490 ₽/мес (990 ₽/мес при оплате за 3 мес.)
  — 1 предмет на выбор, безлимитное время, 1–11 класс.
3.3. «Стандарт» — 1 990 ₽/мес (1 330 ₽/мес при оплате за 3 мес.)
  — 3 предмета, проверка домашки, все функции.
3.4. «Премиум» — 2 990 ₽/мес (1 990 ₽/мес при оплате за 3 мес.)
  — все предметы, подготовка к ЕГЭ/ОГЭ, приоритетная поддержка.

4. ПРОБНЫЙ ПЕРИОД
4.1. Бесплатный пробный период составляет 10 (десять) календарных дней.
4.2. Пробный период предоставляется однократно для ознакомления с функционалом Сервиса.
4.3. Активация платной подписки возможна только после явного согласия Пользователя с условиями предоставления услуг.

5. ОГРАНИЧЕНИЯ
5.1. Сервис является вспомогательным образовательным инструментом.
5.2. Ответы генерируются искусственным интеллектом и могут содержать неточности.
5.3. Сервис не является заменой профессионального педагога или образовательного учреждения.
5.4. Лимит устройств — одновременное использование на ограниченном количестве устройств.`
  }
};

interface Props {
  docType: DocType;
  onClose: () => void;
}

export const LegalDocumentViewer: React.FC<Props> = ({ docType, onClose }) => {
  const doc = DOCS[docType];
  return (
    <div className="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-slide-in">
      <div className="bg-white rounded-3xl w-full max-w-md max-h-[85vh] overflow-hidden flex flex-col">
        <div className="flex items-center justify-between p-5 border-b">
          <h3 className="text-lg font-extrabold text-slate-900">{doc.title}</h3>
          <button onClick={onClose} className="p-2 text-slate-400 hover:text-slate-700">
            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>
        <div className="flex-1 overflow-y-auto p-5">
          <pre className="text-xs text-slate-700 leading-relaxed whitespace-pre-wrap font-sans">
            {doc.content}
          </pre>
        </div>
        <div className="p-4 border-t">
          <button
            onClick={onClose}
            className="w-full py-3 bg-blue-600 text-white rounded-xl font-bold text-sm"
          >
            Закрыть
          </button>
        </div>
      </div>
    </div>
  );
};

export const DOC_TYPES: { id: DocType; label: string }[] = [
  { id: 'terms', label: 'Пользовательское соглашение' },
  { id: 'privacy', label: 'Политика конфиденциальности' },
  { id: 'refund', label: 'Политика возврата средств' },
  { id: 'product', label: 'Описание продукта' },
];

export type { DocType };
